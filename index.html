<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Science Alignment Scorecard</title>
    <meta name="description" content="Measuring how well political candidates align with scientific consensus on key issues like vaccines, climate change, and more.">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourusername.github.io/science-alignment-scorecard/">
    <meta property="og:title" content="Science Alignment Scorecard">
    <meta property="og:description" content="Measuring how well political candidates align with scientific consensus">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://yourusername.github.io/science-alignment-scorecard/">
    <meta property="twitter:title" content="Science Alignment Scorecard">
    <meta property="twitter:description" content="Measuring how well political candidates align with scientific consensus">
    
</head>
<body>
    <div class="disclaimer-banner">
        <h3>Experimental Learning Tool</h3>
        <p><strong>Important Notice:</strong> This is an experimental project designed as a learning tool for coding and data analysis practice. It uses mock/demo data sources and simplified methodologies. The analysis, scores, and conclusions presented here are for demonstration purposes only and do not reflect the opinions, views, or official positions of any individual, organization, political party, or institution. This tool should not be used for making real-world political decisions or assessments.</p>
    </div>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ”¬ Science Alignment Scorecard</h1>
            <p>Measuring how well political candidates align with scientific consensus</p>
        </div>
        
        <div class="tabs">
            <button class="tab active" data-tab="candidate-analysis">Candidate Analysis</button>
            <button class="tab" data-tab="candidate-comparison">Head-to-Head</button>
            <button class="tab" data-tab="ballot-lookup">My Ballot</button>
            <button class="tab" data-tab="bias-detection">ğŸ” Bias Detection</button>
        </div>
        
        <!-- Candidate Analysis Tab -->
        <div class="tab-content active" id="candidate-analysis">
            <div class="candidate-selector">
                <div class="data-source-filter">
                    <label for="dataSourceFilter">Data source:</label>
                    <select id="dataSourceFilter">
                        <option value="mock">Mock Data (Demo)</option>
                        <option value="real">Real Data</option>
                    </select>
                </div>
                
                <select id="candidateSelect">
                    <option value="">Loading candidates...</option>
                </select>
                
                <div class="date-filter">
                    <label for="dateFilter">Show statements from:</label>
                    <select id="dateFilter">
                        <option value="all">All time</option>
                        <option value="6months">Past 6 months</option>
                        <option value="1year">Past year</option>
                        <option value="2years">Past 2 years</option>
                    </select>
                </div>
            </div>

            <!-- Export & Share Controls -->
            <div class="export-controls">
                <h3>ğŸ“¤ Export & Share</h3>
                <div class="export-buttons">
                    <button class="export-btn pdf" onclick="exportToPDF()">
                        ğŸ“„ Export PDF Report
                    </button>
                    <button class="export-btn email" onclick="showEmailSignup()">
                        ğŸ“§ Email Updates
                    </button>
                    <button class="export-btn share" onclick="showShareModal()">
                        ğŸ”— Share Analysis
                    </button>
                </div>
            </div>
            
            <div class="scorecard">
                <div class="topics-section">
                    <div id="topicsList"></div>
                </div>
                
                <div class="overall-score">
                    <div class="score-display" id="overallScore">78</div>
                    <div class="score-label">Overall Science Alignment</div>
                    <div class="consistency-note" id="consistencyNote">
                        <span class="consistency-indicator consistently-right">Consistently Right</span>
                        High alignment with scientific consensus across most topics.
                    </div>
                    <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                        Based on <span id="topicCount">5</span> key scientific statements
                    </div>

                    <!-- Email Signup -->
                    <div class="email-signup" id="emailSignup" style="display: none;">
                        <h3>ğŸ”” Get Election Updates</h3>
                        <p>Stay informed with science-based candidate updates</p>
                        <div class="email-form">
                            <input type="email" id="emailInput" placeholder="Enter your email">
                            <button onclick="subscribeToUpdates()">Subscribe</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Candidate Comparison Tab -->
        <div class="tab-content" id="candidate-comparison">
            <div class="comparison-container">
                <h2>ğŸ†š Head-to-Head Comparison</h2>
                <p>Compare candidates side-by-side across scientific topics</p>
                
                <div class="election-selector">
                    <label for="electionSelect">Select Election:</label>
                    <select id="electionSelect">
                        <option value="">Choose an election...</option>
                    </select>
                </div>
                
                <div class="comparison-table-container" id="comparisonTableContainer">
                    <!-- Comparison table will be populated here -->
                </div>
            </div>
        </div>
        
        <!-- Ballot Lookup Tab -->
        <div class="tab-content" id="ballot-lookup">
            <div class="ballot-lookup">
                <div class="address-input">
                    <h2>ğŸ—³ï¸ Find Your Ballot</h2>
                    <p>Enter your address to see science alignment scores for candidates on your ballot</p>
                    
                    <div class="address-form">
                        <div class="form-group autocomplete-container">
                            <label for="address">Street Address</label>
                            <input type="text" id="address" placeholder="123 Main St" autocomplete="street-address">
                            <div class="autocomplete-dropdown" id="addressDropdown"></div>
                        </div>
                        <div class="form-group autocomplete-container">
                            <label for="city">City</label>
                            <input type="text" id="city" placeholder="Seattle" autocomplete="address-level2">
                            <div class="autocomplete-dropdown" id="cityDropdown"></div>
                        </div>
                        <div class="form-group">
                            <label for="state">State</label>
                            <select id="state" autocomplete="address-level1">
                                <option value="">Select State</option>
                                <option value="WA">Washington</option>
                                <option value="CA">California</option>
                                <option value="NY">New York</option>
                                <option value="TX">Texas</option>
                                <option value="FL">Florida</option>
                                <option value="IL">Illinois</option>
                                <option value="PA">Pennsylvania</option>
                                <option value="OH">Ohio</option>
                                <option value="GA">Georgia</option>
                                <option value="NC">North Carolina</option>
                                <option value="MI">Michigan</option>
                                <option value="NJ">New Jersey</option>
                                <option value="VA">Virginia</option>
                                <option value="AZ">Arizona</option>
                                <option value="TN">Tennessee</option>
                                <option value="IN">Indiana</option>
                                <option value="MA">Massachusetts</option>
                                <option value="WI">Wisconsin</option>
                                <option value="CO">Colorado</option>
                                <option value="MN">Minnesota</option>
                            </select>
                        </div>
                        <div class="form-group autocomplete-container">
                            <label for="zip">ZIP Code</label>
                            <input type="text" id="zip" placeholder="98101" autocomplete="postal-code" maxlength="5" pattern="[0-9]{5}">
                            <div class="autocomplete-dropdown" id="zipDropdown"></div>
                        </div>
                        <button class="lookup-btn" onclick="lookupBallot()">Find My Ballot</button>
                    </div>
                </div>
                
                <div class="ballot-results" id="ballotResults">
                    <div class="location-info" id="locationInfo">
                        <h3>ğŸ“ Your Ballot Information</h3>
                        <p id="locationDetails"></p>
                        <p><strong>Election Date:</strong> November 5, 2025</p>
                    </div>
                    
                    <div class="races-container" id="racesContainer">
                        <!-- Race cards will be populated here -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Bias Detection Tab -->
        <div class="tab-content" id="bias-detection">
            <div class="bias-detection-container">
                <h2>ğŸ” Bias Detection & Quality Control</h2>
                <p>Comprehensive bias detection system ensuring scientific objectivity in candidate scoring</p>
                
                <!-- Current Bias Status -->
                <div class="bias-status-section">
                    <h3>ğŸ“Š Current Bias Status</h3>
                    <div class="bias-metrics-grid">
                        <div class="bias-metric-card">
                            <div class="metric-header">
                                <span class="metric-title">Overall Bias Score</span>
                                <span class="metric-icon">ğŸ¯</span>
                            </div>
                            <div class="metric-value bias-warning">76.8%</div>
                            <div class="metric-status">Fair - Moderate bias issues</div>
                        </div>
                        
                        <div class="bias-metric-card">
                            <div class="metric-header">
                                <span class="metric-title">Party Bias Detection</span>
                                <span class="metric-icon">âš–ï¸</span>
                            </div>
                            <div class="metric-value bias-critical">65.3%</div>
                            <div class="metric-status">Critical - 18.5 pt difference</div>
                        </div>
                        
                        <div class="bias-metric-card">
                            <div class="metric-header">
                                <span class="metric-title">Control Panel Tests</span>
                                <span class="metric-icon">ğŸ“‹</span>
                            </div>
                            <div class="metric-value bias-warning">73.2%</div>
                            <div class="metric-status">5/7 tests passed</div>
                        </div>
                        
                        <div class="bias-metric-card">
                            <div class="metric-header">
                                <span class="metric-title">Cross-Validation</span>
                                <span class="metric-icon">ğŸ”„</span>
                            </div>
                            <div class="metric-value bias-warning">78.2%</div>
                            <div class="metric-status">115/147 consistent</div>
                        </div>
                        
                        <div class="bias-metric-card">
                            <div class="metric-header">
                                <span class="metric-title">Statement Independence</span>
                                <span class="metric-icon">ğŸ”¬</span>
                            </div>
                            <div class="metric-value bias-good">84.7%</div>
                            <div class="metric-status">Good isolation</div>
                        </div>
                        
                        <div class="bias-metric-card">
                            <div class="metric-header">
                                <span class="metric-title">Source Quality</span>
                                <span class="metric-icon">ğŸ“°</span>
                            </div>
                            <div class="metric-value bias-excellent">91.8%</div>
                            <div class="metric-status">2 suspicious sources</div>
                        </div>
                    </div>
                </div>
                
                <!-- Critical Issues Alert -->
                <div class="bias-alert critical">
                    <div class="alert-header">
                        <span class="alert-icon">âš ï¸</span>
                        <strong>Critical Bias Issues Detected</strong>
                    </div>
                    <div class="alert-content">
                        <p><strong>Party Bias:</strong> Democratic candidates score 18.5 points higher on vaccines, 15.2 points higher on climate change</p>
                        <p><strong>Control Panel Failures:</strong> 2 out of 7 tests failed with up to 15 point variance when names changed</p>
                        <p><strong>Cross-Validation Issues:</strong> 32 out of 147 statements show >10 point variance across candidates</p>
                    </div>
                </div>
                
                <!-- Bias Testing Controls -->
                <div class="bias-controls-section">
                    <h3>ğŸ§ª Bias Testing Controls</h3>
                    <div class="control-buttons">
                        <button class="bias-btn primary" onclick="runBiasDetection()">
                            ğŸ” Run Full Bias Analysis
                        </button>
                        <button class="bias-btn secondary" onclick="runControlPanelTest()">
                            ğŸ“‹ Control Panel Test
                        </button>
                        <button class="bias-btn secondary" onclick="runCrossValidation()">
                            ğŸ”„ Cross-Validation
                        </button>
                        <button class="bias-btn secondary" onclick="generateBiasReport()">
                            ğŸ“„ Generate Report
                        </button>
                    </div>
                </div>
                
                <!-- Key Findings -->
                <div class="findings-section">
                    <h3>ğŸ” Key Findings</h3>
                    <div class="findings-list">
                        <div class="finding-item critical">
                            <span class="finding-priority">CRITICAL</span>
                            <span class="finding-text">Party-based scoring differences exceed acceptable thresholds</span>
                        </div>
                        <div class="finding-item critical">
                            <span class="finding-priority">CRITICAL</span>
                            <span class="finding-text">Control panel tests show 28.6% failure rate</span>
                        </div>
                        <div class="finding-item warning">
                            <span class="finding-priority">WARNING</span>
                            <span class="finding-text">21.8% of statements show cross-validation bias</span>
                        </div>
                        <div class="finding-item warning">
                            <span class="finding-priority">WARNING</span>
                            <span class="finding-text">2 news sources flagged with bias indicators</span>
                        </div>
                    </div>
                </div>
                
                <!-- Recommendations -->
                <div class="recommendations-section">
                    <h3>ğŸ“‹ Priority Recommendations</h3>
                    <div class="recommendations-list">
                        <div class="recommendation-item high">
                            <div class="rec-header">
                                <span class="rec-priority high">HIGH</span>
                                <strong>Implement Enhanced Party Anonymization</strong>
                            </div>
                            <p>Remove all party affiliations and candidate names before scoring to eliminate systematic bias.</p>
                            <p class="rec-impact">Expected Impact: Reduce party bias by 60-80%</p>
                        </div>
                        
                        <div class="recommendation-item high">
                            <div class="rec-header">
                                <span class="rec-priority high">HIGH</span>
                                <strong>Establish Blind Scoring Protocols</strong>
                            </div>
                            <p>Implement completely blind scoring where evaluators cannot identify candidates.</p>
                            <p class="rec-impact">Expected Impact: Eliminate systematic party bias</p>
                        </div>
                        
                        <div class="recommendation-item medium">
                            <div class="rec-header">
                                <span class="rec-priority medium">MEDIUM</span>
                                <strong>Expand Control Panel Testing</strong>
                            </div>
                            <p>Add 15 additional control statements and implement automated daily testing.</p>
                            <p class="rec-impact">Expected Impact: Improve pass rate to >90%</p>
                        </div>
                    </div>
                </div>
                
                <!-- Methodology Overview -->
                <div class="bias-methodology-section">
                    <h3>ğŸ”¬ Bias Detection Methodology</h3>
                    <div class="methodology-overview">
                        <div class="method-item">
                            <h4>ğŸ“‹ Control Panel Testing</h4>
                            <p>Known statements tested with different candidate attributions to detect name-based bias</p>
                        </div>
                        <div class="method-item">
                            <h4>ğŸ”„ Cross-Validation Analysis</h4>
                            <p>Statement content consistency testing across candidate assignments</p>
                        </div>
                        <div class="method-item">
                            <h4>ğŸ“Š Statistical Bias Detection</h4>
                            <p>Advanced statistical tests including Welch's t-test and Mann-Whitney U</p>
                        </div>
                        <div class="method-item">
                            <h4>ğŸ”¬ Independence Validation</h4>
                            <p>Ensures each statement is evaluated as an independent observation</p>
                        </div>
                        <div class="method-item">
                            <h4>ğŸ¤– Pattern Recognition</h4>
                            <p>Machine learning algorithms identify systematic bias patterns</p>
                        </div>
                        <div class="method-item">
                            <h4>ğŸ“ˆ Continuous Monitoring</h4>
                            <p>Real-time bias detection with automated alerts and reporting</p>
                        </div>
                    </div>
                </div>
                
                <!-- Report Links -->
                <div class="report-links-section">
                    <h3>ğŸ“„ Detailed Reports</h3>
                    <div class="report-links">
                        <a href="BIAS_DETECTION_REPORT.md" class="report-link" target="_blank">
                            ğŸ“‹ Comprehensive Bias Detection Report
                        </a>
                        <a href="bias-dashboard.html" class="report-link" target="_blank">
                            ğŸ“Š Interactive Bias Dashboard
                        </a>
                        <a href="bias-detection-integration.js" class="report-link" target="_blank">
                            ğŸ”§ Bias Detection System Code
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="methodology">
            <h3>ğŸ“Š Methodology</h3>
            <div class="methodology-grid">
                <div class="methodology-item">
                    <h4>Scientific Consensus</h4>
                    <p>Consensus positions are derived from peer-reviewed meta-analyses, major scientific institutions (WHO, CDC, IPCC), and expert surveys. Distributions reflect uncertainty in the evidence.</p>
                </div>
                <div class="methodology-item">
                    <h4>Statement Analysis</h4>
                    <p>Individual statements are scored on a 0-100 Likert scale (0=Strongly Disagree, 100=Strongly Agree) using natural language processing and expert review. Recent statements weighted more heavily.</p>
                </div>
                <div class="methodology-item">
                    <h4>Alignment Calculation</h4>
                    <p>Alignment scores measure overlap between candidate statement distributions and scientific consensus distributions. Accounts for both position and consistency.</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="tooltip" id="tooltip"></div>

    <!-- Share Modal -->
    <div class="share-modal" id="shareModal">
        <div class="share-modal-content">
            <div class="close-modal" onclick="closeShareModal()">&times;</div>
            <h3>ğŸ“¤ Share This Analysis</h3>
            <p>Share this science alignment analysis with others</p>
            
            <div class="share-options">
                <div class="share-option" onclick="shareViaTwitter()">
                    ğŸ¦ Twitter
                </div>
                <div class="share-option" onclick="shareViaFacebook()">
                    ğŸ“˜ Facebook
                </div>
                <div class="share-option" onclick="shareViaLinkedIn()">
                    ğŸ’¼ LinkedIn
                </div>
                <div class="share-option" onclick="copyShareLink()">
                    ğŸ”— Copy Link
                </div>
            </div>
            
            <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                <input type="text" id="shareLink" value="https://yourusername.github.io/science-alignment-scorecard/" readonly style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
